<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>D3D11DRV: UD3D11RenderDevice Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>UD3D11RenderDevice Class Reference</h1><!-- doxytag: class="UD3D11RenderDevice" -->
<p><a href="class_u_d3_d11_render_device-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Abstract in parent class</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpb3669708e7800979c5e55f2efa5b2745"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UBOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#accaafcccc1c6c67d3642accc6e600b51">Init</a> (UViewport *InViewport, INT NewX, INT NewY, INT NewColorBytes, UBOOL Fullscreen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UBOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a45e6b34547d681495f0ca881dcc6a2c7">SetRes</a> (INT NewX, INT NewY, INT NewColorBytes, UBOOL Fullscreen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a322423d0fcdf6c90bb89302ea1a53056">Exit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a13d85774031f51154a58dbf4cc0c0128">Flush</a> (UBOOL AllowPrecache)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#aab8af6766599d63aedf0b385e0ae4412">Lock</a> (FPlane FlashScale, FPlane FlashFog, FPlane ScreenClear, DWORD RenderLockFlags, BYTE *HitData, INT *HitSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a45fe5281fb3227750ac463d143cc336c">Unlock</a> (UBOOL Blit)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#ae374516accde9aca43f53425c6b8c33d">DrawComplexSurface</a> (FSceneNode *Frame, FSurfaceInfo &amp;Surface, FSurfaceFacet &amp;Facet)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a5bf7ae0517fc015c634525e3f4458f51">DrawGouraudPolygon</a> (FSceneNode *Frame, FTextureInfo &amp;Info, FTransTexture **Pts, int NumPts, DWORD PolyFlags, FSpanBuffer *Span)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a11f7f5af5b4d2c77d1ac31ccaa8c267c">DrawTile</a> (FSceneNode *Frame, FTextureInfo &amp;Info, FLOAT X, FLOAT Y, FLOAT XL, FLOAT YL, FLOAT U, FLOAT V, FLOAT UL, FLOAT VL, class FSpanBuffer *Span, FLOAT Z, FPlane Color, FPlane Fog, DWORD PolyFlags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#aec22eadac69c516705f9bb5eec88e8b9">Draw2DLine</a> (FSceneNode *Frame, FPlane Color, DWORD LineFlags, FVector P1, FVector P2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a02b512d5716b3974bb0d9714b230a7f2">Draw2DPoint</a> (FSceneNode *Frame, FPlane Color, DWORD LineFlags, FLOAT X1, FLOAT Y1, FLOAT X2, FLOAT Y2, FLOAT Z)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a2fc1d92729a4c956ff0133d2c49fc8a2">ClearZ</a> (FSceneNode *Frame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#acb737f50fdb15c8e0e0205403ebfd028">PushHit</a> (const BYTE *Data, INT Count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a8bce61a2a164185bb106ad1941f4b2a0">PopHit</a> (INT Count, UBOOL bForce)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a3321c0f85bc440aa63bf5af4f4a344c6">GetStats</a> (TCHAR *Result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a5a7692cfd6d9a017f5d468bda0d46786">ReadPixels</a> (FColor *Pixels)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Optional but implemented</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp9f6aadc2d3c919dd0bdf7b0d3e03d6b8"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UBOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#ab1e35716716cbbdcf2e0e49bd9aab765">Exec</a> (const TCHAR *Cmd, FOutputDevice &amp;Ar)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a73c4f63b2d998a0fc37e59c9697ccfbc">SetSceneNode</a> (FSceneNode *Frame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a409e46d6516a10e3f763cafb9adbd8df">PrecacheTexture</a> (FTextureInfo &amp;Info, DWORD PolyFlags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a8d8e0fe8427aa29a23be7ff79b49963c">EndFlash</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#ae73be7de122566350d2a315778f84364">StaticConstructor</a> ()</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a790d5b4fd12c2ce9d891a1d3b2f400dd"></a><!-- doxytag: member="UD3D11RenderDevice::D3DOptions" ref="a790d5b4fd12c2ce9d891a1d3b2f400dd" args="" -->
<a class="el" href="struct_d3_d_1_1_options.html">D3D::Options</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>D3DOptions</b></td></tr>
<tr><td class="memItemLeft" >struct {</td></tr>
<tr><td class="memItemLeft" >&nbsp;&nbsp;&nbsp;int&nbsp;&nbsp;&nbsp;<a class="el" href="class_u_d3_d11_render_device.html#a856c0490b73f444483b1f401dc8fc78d">precache</a></td></tr>
<tr><td class="memItemLeft" valign="top">}&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a34dd03783dba0a68f71efd618f5b785f">options</a></td></tr>
<tr><td colspan="2"><h2>Helpers</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp58840cc813684ae1c5cb61d83a4c974f"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#a4a782cec97e119da55e3e2fb3d49c8a4">debugs</a> (char *s)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_d3_d11_render_device.html#af68ee3acb900b3b1e3f267da8a1f1662">getOption</a> (TCHAR *name, int defaultVal, bool isBool)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This is the interface between the game and the graphics API. For the D3D11 renderer, an effort was made to have it not work directly with <a class="el" href="class_d3_d.html">D3D</a> types and objects; it is purely concerned with answering the game and putting data in correct structures for further processing. This leaves this class relatively clean and easy to understand, and should make it a good basis for further work. It contains only the bare essential functions to implement the renderer interface. There are two exceptions: <a class="el" href="class_u_d3_d11_render_device.html#a4a782cec97e119da55e3e2fb3d49c8a4">UD3D11RenderDevice::debugs()</a> and <a class="el" href="class_u_d3_d11_render_device.html#af68ee3acb900b3b1e3f267da8a1f1662">UD3D11RenderDevice::getOption</a> are helpers not required by the game.</p>
<p>Called <a class="el" href="class_u_d3_d11_render_device.html">UD3D11RenderDevice</a> as Unreal leaves out first letter when accessing the class; now it can be accessed as D3D1RenderDevice. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2fc1d92729a4c956ff0133d2c49fc8a2"></a><!-- doxytag: member="UD3D11RenderDevice::ClearZ" ref="a2fc1d92729a4c956ff0133d2c49fc8a2" args="(FSceneNode *Frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::ClearZ </td>
          <td>(</td>
          <td class="paramtype">FSceneNode *&nbsp;</td>
          <td class="paramname"> <em>Frame</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clear the depth buffer. Used to draw the skybox behind the rest of the geometry, and weapon in front. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>It is important that any vertex buffer contents be commited before actually clearing the depth! </dd></dl>

</div>
</div>
<a class="anchor" id="a4a782cec97e119da55e3e2fb3d49c8a4"></a><!-- doxytag: member="UD3D11RenderDevice::debugs" ref="a4a782cec97e119da55e3e2fb3d49c8a4" args="(char *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::debugs </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>s</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Prints text to the game's log and the standard output if in debug mode. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>A the message to print. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Does not take a wide character string because not everything we want to print might be available as such (i.e. ID3D10Blobs). </dd></dl>

</div>
</div>
<a class="anchor" id="aec22eadac69c516705f9bb5eec88e8b9"></a><!-- doxytag: member="UD3D11RenderDevice::Draw2DLine" ref="aec22eadac69c516705f9bb5eec88e8b9" args="(FSceneNode *Frame, FPlane Color, DWORD LineFlags, FVector P1, FVector P2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::Draw2DLine </td>
          <td>(</td>
          <td class="paramtype">FSceneNode *&nbsp;</td>
          <td class="paramname"> <em>Frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FPlane&nbsp;</td>
          <td class="paramname"> <em>Color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>LineFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FVector&nbsp;</td>
          <td class="paramname"> <em>P1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FVector&nbsp;</td>
          <td class="paramname"> <em>P2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For UnrealED. </p>

</div>
</div>
<a class="anchor" id="a02b512d5716b3974bb0d9714b230a7f2"></a><!-- doxytag: member="UD3D11RenderDevice::Draw2DPoint" ref="a02b512d5716b3974bb0d9714b230a7f2" args="(FSceneNode *Frame, FPlane Color, DWORD LineFlags, FLOAT X1, FLOAT Y1, FLOAT X2, FLOAT Y2, FLOAT Z)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::Draw2DPoint </td>
          <td>(</td>
          <td class="paramtype">FSceneNode *&nbsp;</td>
          <td class="paramname"> <em>Frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FPlane&nbsp;</td>
          <td class="paramname"> <em>Color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>LineFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>X1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>Y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>X2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>Y2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>Z</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For UnrealED. </p>

</div>
</div>
<a class="anchor" id="ae374516accde9aca43f53425c6b8c33d"></a><!-- doxytag: member="UD3D11RenderDevice::DrawComplexSurface" ref="ae374516accde9aca43f53425c6b8c33d" args="(FSceneNode *Frame, FSurfaceInfo &amp;Surface, FSurfaceFacet &amp;Facet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::DrawComplexSurface </td>
          <td>(</td>
          <td class="paramtype">FSceneNode *&nbsp;</td>
          <td class="paramname"> <em>Frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FSurfaceInfo &amp;&nbsp;</td>
          <td class="paramname"> <em>Surface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FSurfaceFacet &amp;&nbsp;</td>
          <td class="paramname"> <em>Facet</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Complex surfaces are used for map geometry. They consists of facets which in turn consist of polys (triangle fans). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Frame</em>&nbsp;</td><td>The scene. See <a class="el" href="class_u_d3_d11_render_device.html#a73c4f63b2d998a0fc37e59c9697ccfbc">SetSceneNode()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Surface</em>&nbsp;</td><td>Holds information on the various texture passes and the surface's PolyFlags.</p>
<ul>
<li>PolyFlags contains the correct flags for this surface. See <a class="el" href="polyflags_8h.html">polyflags.h</a></li>
<li>Texture is the diffuse texture.</li>
<li>DetailTexture is the nice close-up detail that's modulated with the diffuse texture for walls. It's up to the renderer to only draw these on near surfaces.</li>
<li>LightMap is the precalculated map lighting. Should be drawn with a -.5 pan offset.</li>
<li>FogMap is precalculated fog. Should be drawn with a -.5 pan offset. Should be added, not modulated. Flags determine if it should be applied, see <a class="el" href="polyflags_8h.html">polyflags.h</a>.</li>
<li>MacroTexture is similar to a detail texture but for far away surfaces. Rarely used. </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Facet</em>&nbsp;</td><td>Contains coordinates and polygons.</p>
<ul>
<li>MapCoords are used to calculate texture coordinates. Involved. See code.</li>
<li>Polys is a linked list of triangle fan arrays; each element is similar to the models used in <a class="el" href="class_u_d3_d11_render_device.html#a5bf7ae0517fc015c634525e3f4458f51">DrawGouraudPolygon()</a>.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>DetailTexture and FogMap are mutually exclusive; D3D10 renderer just uses seperate binds for them anyway. </dd>
<dd>
D3D10 renderer handles DetailTexture range in shader. </dd>
<dd>
Check if submitted polygons are valid (3 or more points). </dd></dl>

</div>
</div>
<a class="anchor" id="a5bf7ae0517fc015c634525e3f4458f51"></a><!-- doxytag: member="UD3D11RenderDevice::DrawGouraudPolygon" ref="a5bf7ae0517fc015c634525e3f4458f51" args="(FSceneNode *Frame, FTextureInfo &amp;Info, FTransTexture **Pts, int NumPts, DWORD PolyFlags, FSpanBuffer *Span)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::DrawGouraudPolygon </td>
          <td>(</td>
          <td class="paramtype">FSceneNode *&nbsp;</td>
          <td class="paramname"> <em>Frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FTextureInfo &amp;&nbsp;</td>
          <td class="paramname"> <em>Info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FTransTexture **&nbsp;</td>
          <td class="paramname"> <em>Pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>NumPts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>PolyFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FSpanBuffer *&nbsp;</td>
          <td class="paramname"> <em>Span</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gouraud shaded polygons are used for 3D models and surprisingly shadows. They are sent with a call of this function per triangle fan, worldview transformed and lit. They do have normals and texture coordinates (no panning). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Frame</em>&nbsp;</td><td>The scene. See <a class="el" href="class_u_d3_d11_render_device.html#a73c4f63b2d998a0fc37e59c9697ccfbc">SetSceneNode()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Info</em>&nbsp;</td><td>The texture for the model. Models only come with diffuse textures. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Pts</em>&nbsp;</td><td>A triangle fan stored as an array. Each element has a normal, light (i.e. color) and fog (color due to being in fog). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NumPts</em>&nbsp;</td><td>Number of verts in fan. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PolyFlags</em>&nbsp;</td><td>Contains the correct flags for this model. See <a class="el" href="polyflags_8h.html">polyflags.h</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Span</em>&nbsp;</td><td>Probably for software renderers.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Modulated models (i.e. shadows) shouldn't have a color, and fog should only be applied to models with the correct flags for that. The D3D10 renderer handles this in the shader. </dd>
<dd>
Check if submitted polygons are valid (3 or more points). </dd></dl>

</div>
</div>
<a class="anchor" id="a11f7f5af5b4d2c77d1ac31ccaa8c267c"></a><!-- doxytag: member="UD3D11RenderDevice::DrawTile" ref="a11f7f5af5b4d2c77d1ac31ccaa8c267c" args="(FSceneNode *Frame, FTextureInfo &amp;Info, FLOAT X, FLOAT Y, FLOAT XL, FLOAT YL, FLOAT U, FLOAT V, FLOAT UL, FLOAT VL, class FSpanBuffer *Span, FLOAT Z, FPlane Color, FPlane Fog, DWORD PolyFlags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::DrawTile </td>
          <td>(</td>
          <td class="paramtype">FSceneNode *&nbsp;</td>
          <td class="paramname"> <em>Frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FTextureInfo &amp;&nbsp;</td>
          <td class="paramname"> <em>Info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>XL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>YL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>U</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>UL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>VL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">class FSpanBuffer *&nbsp;</td>
          <td class="paramname"> <em>Span</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT&nbsp;</td>
          <td class="paramname"> <em>Z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FPlane&nbsp;</td>
          <td class="paramname"> <em>Color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FPlane&nbsp;</td>
          <td class="paramname"> <em>Fog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>PolyFlags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used for 2D UI elements, coronas, etc. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Frame</em>&nbsp;</td><td>The scene. See <a class="el" href="class_u_d3_d11_render_device.html#a73c4f63b2d998a0fc37e59c9697ccfbc">SetSceneNode()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Info</em>&nbsp;</td><td>The texture for the quad. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>X</em>&nbsp;</td><td>X coord in screen space. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Y</em>&nbsp;</td><td>Y coord in screen space. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>XL</em>&nbsp;</td><td>Width in pixels </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>YL</em>&nbsp;</td><td>Height in pixels </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>U</em>&nbsp;</td><td>Texure U coordinate for left. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>V</em>&nbsp;</td><td>Texture V coordinate for top. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UL</em>&nbsp;</td><td>U+UL is coordinate for right. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>VL</em>&nbsp;</td><td>V+VL is coordinate for bottom. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Span</em>&nbsp;</td><td>Probably for software renderers. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Z</em>&nbsp;</td><td>coordinate (similar to that of other primitives). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Color</em>&nbsp;</td><td>color </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Fog</em>&nbsp;</td><td>fog </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PolyFlags</em>&nbsp;</td><td>Contains the correct flags for this tile. See <a class="el" href="polyflags_8h.html">polyflags.h</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Need to set scene node here otherwise Deus Ex dialogue letterboxes will look wrong; they aren't properly sent to <a class="el" href="class_u_d3_d11_render_device.html#a73c4f63b2d998a0fc37e59c9697ccfbc">SetSceneNode()</a> it seems. </dd>
<dd>
Drawn by converting pixel coordinates to -1,1 ranges in vertex shader and drawing quads with X/Y perspective transform disabled. The Z coordinate however is transformed and divided by W; then W is set to 1 in the shader to get correct depth and yet preserve X and Y. Other renderers take the opposite approach and multiply X by RProjZ*Z and Y by RProjZ*Z*aspect so they are preserved and then transform everything. </dd></dl>

</div>
</div>
<a class="anchor" id="a8d8e0fe8427aa29a23be7ff79b49963c"></a><!-- doxytag: member="UD3D11RenderDevice::EndFlash" ref="a8d8e0fe8427aa29a23be7ff79b49963c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::EndFlash </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Other renderers handle flashes here by saving the related structures; this one does it in <a class="el" href="class_u_d3_d11_render_device.html#aab8af6766599d63aedf0b385e0ae4412">Lock()</a>. </p>

</div>
</div>
<a class="anchor" id="ab1e35716716cbbdcf2e0e49bd9aab765"></a><!-- doxytag: member="UD3D11RenderDevice::Exec" ref="ab1e35716716cbbdcf2e0e49bd9aab765" args="(const TCHAR *Cmd, FOutputDevice &amp;Ar)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UBOOL UD3D11RenderDevice::Exec </td>
          <td>(</td>
          <td class="paramtype">const TCHAR *&nbsp;</td>
          <td class="paramname"> <em>Cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FOutputDevice &amp;&nbsp;</td>
          <td class="paramname"> <em>Ar</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Various command from the game. Can be used to intercept input. First let the parent class handle the command.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Cmd</em>&nbsp;</td><td>The command</p>
<ul>
<li>GetRes Should return a list of resolutions in string form "HxW HxW" etc.</li>
<li>Brightness is intercepted here </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Ar</em>&nbsp;</td><td>A class to which to log responses using Ar.Log().</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Deus Ex ignores resolutions it does not like. </dd></dl>

</div>
</div>
<a class="anchor" id="a322423d0fcdf6c90bb89302ea1a53056"></a><!-- doxytag: member="UD3D11RenderDevice::Exit" ref="a322423d0fcdf6c90bb89302ea1a53056" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::Exit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cleanup. </p>

</div>
</div>
<a class="anchor" id="a13d85774031f51154a58dbf4cc0c0128"></a><!-- doxytag: member="UD3D11RenderDevice::Flush" ref="a13d85774031f51154a58dbf4cc0c0128" args="(UBOOL AllowPrecache)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::Flush </td>
          <td>(</td>
          <td class="paramtype">UBOOL&nbsp;</td>
          <td class="paramname"> <em>AllowPrecache</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Empty texture cache. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>AllowPrecache</em>&nbsp;</td><td>Enabled if the game allows us to precache; respond by setting URenderDevice::PrecacheOnFlip = 1 if wanted. This does make load times longer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af68ee3acb900b3b1e3f267da8a1f1662"></a><!-- doxytag: member="UD3D11RenderDevice::getOption" ref="af68ee3acb900b3b1e3f267da8a1f1662" args="(TCHAR *name, int defaultVal, bool isBool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UD3D11RenderDevice::getOption </td>
          <td>(</td>
          <td class="paramtype">TCHAR *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>defaultVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>isBool</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Attempts to read a property from the game's config file; on failure, a default is written (so it can be changed by the user) and returned. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>A string identifying the config file options. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>defaultVal</em>&nbsp;</td><td>The default value to write and return if the option is not found. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>isBool</em>&nbsp;</td><td>Whether the parameter's a boolean or integer </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The value for the property. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The default value is written so it can be user modified (either from the config or preferences window) from then on. </dd></dl>

</div>
</div>
<a class="anchor" id="a3321c0f85bc440aa63bf5af4f4a344c6"></a><!-- doxytag: member="UD3D11RenderDevice::GetStats" ref="a3321c0f85bc440aa63bf5af4f4a344c6" args="(TCHAR *Result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::GetStats </td>
          <td>(</td>
          <td class="paramtype">TCHAR *&nbsp;</td>
          <td class="paramname"> <em>Result</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Something to do with FPS counters etc, not needed. </p>

</div>
</div>
<a class="anchor" id="accaafcccc1c6c67d3642accc6e600b51"></a><!-- doxytag: member="UD3D11RenderDevice::Init" ref="accaafcccc1c6c67d3642accc6e600b51" args="(UViewport *InViewport, INT NewX, INT NewY, INT NewColorBytes, UBOOL Fullscreen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UBOOL UD3D11RenderDevice::Init </td>
          <td>(</td>
          <td class="paramtype">UViewport *&nbsp;</td>
          <td class="paramname"> <em>InViewport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>NewX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>NewY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>NewColorBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UBOOL&nbsp;</td>
          <td class="paramname"> <em>Fullscreen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialization of renderer.</p>
<ul>
<li>Set parent class options. Some of these are settings for the renderer to heed, others control what the game does.<ul>
<li>URenderDevice::SpanBased; Probably for software renderers.</li>
<li>URenderDevice::Fullscreen; Only for Voodoo cards.</li>
<li>URenderDevice::SupportsTC; Game sends compressed textures if present.</li>
<li>URenderDevice::SupportsDistanceFog; Distance fog. Don't know how this is supposed to be implemented.</li>
<li>URenderDevice::SupportsLazyTextures; Renderer loads and unloads texture info when needed (???).</li>
<li>URenderDevice::PrefersDeferredLoad; Renderer prefers not to cache textures in advance (???).</li>
<li>URenderDevice::ShinySurfaces; Renderer supports detail textures. The game sends them always, so it's meant as a detail setting for the renderer.</li>
<li>URenderDevice::Coronas; If enabled, the game draws light coronas.</li>
<li>URenderDevice::HighDetailActors; If enabled, game sends more detailed models (???).</li>
<li>URenderDevice::VolumetricLighting; If enabled, the game sets fog textures for surfaces if needed.</li>
<li>URenderDevice::PrecacheOnFlip; The game will call the <a class="el" href="class_u_d3_d11_render_device.html#a409e46d6516a10e3f763cafb9adbd8df">PrecacheTexture()</a> function to load textures in advance. Also see <a class="el" href="class_u_d3_d11_render_device.html#a13d85774031f51154a58dbf4cc0c0128">Flush()</a>.</li>
<li>URenderDevice::Viewport; Always set to InViewport.</li>
</ul>
</li>
<li>Initialize graphics api.</li>
<li>Resize buffers (convenient to use <a class="el" href="class_u_d3_d11_render_device.html#a45e6b34547d681495f0ca881dcc6a2c7">SetRes()</a> for this).</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InViewport</em>&nbsp;</td><td>viewport parameters, can get the window handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NewX</em>&nbsp;</td><td>Viewport width. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NewY</em>&nbsp;</td><td>Viewport height. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NewColorBytes</em>&nbsp;</td><td>Color depth. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Fullscreen</em>&nbsp;</td><td>Whether fullscreen mode should be used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if init succesful. On 0, game errors out.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>D3D10 renderer ignores color depth. </dd></dl>

</div>
</div>
<a class="anchor" id="aab8af6766599d63aedf0b385e0ae4412"></a><!-- doxytag: member="UD3D11RenderDevice::Lock" ref="aab8af6766599d63aedf0b385e0ae4412" args="(FPlane FlashScale, FPlane FlashFog, FPlane ScreenClear, DWORD RenderLockFlags, BYTE *HitData, INT *HitSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::Lock </td>
          <td>(</td>
          <td class="paramtype">FPlane&nbsp;</td>
          <td class="paramname"> <em>FlashScale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FPlane&nbsp;</td>
          <td class="paramname"> <em>FlashFog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FPlane&nbsp;</td>
          <td class="paramname"> <em>ScreenClear</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>RenderLockFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BYTE *&nbsp;</td>
          <td class="paramname"> <em>InHitData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT *&nbsp;</td>
          <td class="paramname"> <em>InHitSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clear screen and depth buffer, prepare buffers to receive data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>FlashScale</em>&nbsp;</td><td>To do with flash effects, see notes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FlashFog</em>&nbsp;</td><td>To do with flash effects, see notes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ScreenClear</em>&nbsp;</td><td>The color with which to clear the screen. Used for Rune fog. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RenderLockFlags</em>&nbsp;</td><td>Signify whether the screen should be cleared. Depth buffer should always be cleared. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>InHitData</em>&nbsp;</td><td>Something to do with clipping planes; safe to ignore. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>InHitSize</em>&nbsp;</td><td>Something to do with clipping planes; safe to ignore.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>'Flash' effects are fullscreen colorization, for example when the player is underwater (blue) or being hit (red). Depending on the values of the related parameters (see source code) this should be drawn; the games don't always send a blank flash when none should be drawn. <a class="el" href="class_u_d3_d11_render_device.html#a8d8e0fe8427aa29a23be7ff79b49963c">EndFlash()</a> ends this, but other renderers actually save the parameters and start drawing it there (probably so it is drawn with the correct depth). </dd>
<dd>
RenderLockFlags aren't always properly set, this results in for example glitching in the Unreal castle flyover, in the wall of the tower with the Nali on it. </dd></dl>

</div>
</div>
<a class="anchor" id="a8bce61a2a164185bb106ad1941f4b2a0"></a><!-- doxytag: member="UD3D11RenderDevice::PopHit" ref="a8bce61a2a164185bb106ad1941f4b2a0" args="(INT Count, UBOOL bForce)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::PopHit </td>
          <td>(</td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>Count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UBOOL&nbsp;</td>
          <td class="paramname"> <em>bForce</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Something to do with clipping planes, not needed. </p>

</div>
</div>
<a class="anchor" id="a409e46d6516a10e3f763cafb9adbd8df"></a><!-- doxytag: member="UD3D11RenderDevice::PrecacheTexture" ref="a409e46d6516a10e3f763cafb9adbd8df" args="(FTextureInfo &amp;Info, DWORD PolyFlags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::PrecacheTexture </td>
          <td>(</td>
          <td class="paramtype">FTextureInfo &amp;&nbsp;</td>
          <td class="paramname"> <em>Info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&nbsp;</td>
          <td class="paramname"> <em>PolyFlags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Store a texture in the renderer-kept texture cache. Only called by the game if URenderDevice::PrecacheOnFlip is 1. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Info</em>&nbsp;</td><td>Texture (meta)data. Includes a CacheID with which to index. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PolyFlags</em>&nbsp;</td><td>Contains the correct flags for this texture. See <a class="el" href="polyflags_8h.html">polyflags.h</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Already cached textures are skipped, unless it's a dynamic texture, in which case it is updated. </dd>
<dd>
Extra care is taken to recache textures that aren't saved as masked, but now have flags indicating they should be (masking is not always properly set). as this couldn't be anticipated in advance, the texture needs to be deleted and recreated. </dd></dl>

</div>
</div>
<a class="anchor" id="acb737f50fdb15c8e0e0205403ebfd028"></a><!-- doxytag: member="UD3D11RenderDevice::PushHit" ref="acb737f50fdb15c8e0e0205403ebfd028" args="(const BYTE *Data, INT Count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::PushHit </td>
          <td>(</td>
          <td class="paramtype">const BYTE *&nbsp;</td>
          <td class="paramname"> <em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>Count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Something to do with clipping planes, not needed. </p>

</div>
</div>
<a class="anchor" id="a5a7692cfd6d9a017f5d468bda0d46786"></a><!-- doxytag: member="UD3D11RenderDevice::ReadPixels" ref="a5a7692cfd6d9a017f5d468bda0d46786" args="(FColor *Pixels)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::ReadPixels </td>
          <td>(</td>
          <td class="paramtype">FColor *&nbsp;</td>
          <td class="paramname"> <em>Pixels</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used for screenshots and savegame previews. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Pixels</em>&nbsp;</td><td>An array of 32 bit pixels in which to dump the back buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a45e6b34547d681495f0ca881dcc6a2c7"></a><!-- doxytag: member="UD3D11RenderDevice::SetRes" ref="a45e6b34547d681495f0ca881dcc6a2c7" args="(INT NewX, INT NewY, INT NewColorBytes, UBOOL Fullscreen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UBOOL UD3D11RenderDevice::SetRes </td>
          <td>(</td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>NewX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>NewY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT&nbsp;</td>
          <td class="paramname"> <em>NewColorBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UBOOL&nbsp;</td>
          <td class="paramname"> <em>Fullscreen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Resize buffers and viewport. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if resize succesful. On 0, game errors out.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Switching to fullscreen exits and reinitializes the renderer. </dd>
<dd>
Fullscreen can have values other than 0 and 1 for some reason. </dd>
<dd>
This function MUST call URenderDevice::Viewport-&gt;ResizeViewport() or the game will stall. </dd></dl>

</div>
</div>
<a class="anchor" id="a73c4f63b2d998a0fc37e59c9697ccfbc"></a><!-- doxytag: member="UD3D11RenderDevice::SetSceneNode" ref="a73c4f63b2d998a0fc37e59c9697ccfbc" args="(FSceneNode *Frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::SetSceneNode </td>
          <td>(</td>
          <td class="paramtype">FSceneNode *&nbsp;</td>
          <td class="paramname"> <em>Frame</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This optional function can be used to set the frustum and viewport parameters per scene change instead of per drawXXXX() call. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Frame</em>&nbsp;</td><td>Contains various information with which to build frustum and viewport. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Standard Z parameters: near 1, far 32760. However, it seems ComplexSurfaces (except water's surface when in it) are at least at Z = ~13; models in DX cut scenes ~7. Can be utilized to gain increased z-buffer precision. Unreal/UT weapons all seem to fall within ZWeapons: Z&lt;12. Can be used to detect, clear depth (to prevent intersecting world) and move them. Only disadvantage of using increased zNear is that water surfaces the player is bobbing in don't look as good. The D3D10 renderer moves gouraud polygons and tiles with Z &lt; zNear (or Z &lt; ZWeapons if needed) inside the range, allowing Unreal/UT weapons (after a depth clear) and tiles to be displayed correctly. ComplexSurfaces are not moved as this results in odd looking water surfaces. </dd></dl>

</div>
</div>
<a class="anchor" id="ae73be7de122566350d2a315778f84364"></a><!-- doxytag: member="UD3D11RenderDevice::StaticConstructor" ref="ae73be7de122566350d2a315778f84364" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::StaticConstructor </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor called by the game when the renderer is first created. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Required to compile for Unreal Tournament. </dd>
<dd>
Binding settings to the preferences window needs to done here instead of in init() or the game crashes when starting a map if the renderer's been restarted at least once. </dd></dl>

</div>
</div>
<a class="anchor" id="a45fe5281fb3227750ac463d143cc336c"></a><!-- doxytag: member="UD3D11RenderDevice::Unlock" ref="a45fe5281fb3227750ac463d143cc336c" args="(UBOOL Blit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UD3D11RenderDevice::Unlock </td>
          <td>(</td>
          <td class="paramtype">UBOOL&nbsp;</td>
          <td class="paramname"> <em>Blit</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finish rendering. /param Blit Whether the front and back buffers should be swapped. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a34dd03783dba0a68f71efd618f5b785f"></a><!-- doxytag: member="UD3D11RenderDevice::options" ref="a34dd03783dba0a68f71efd618f5b785f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   <a class="el" href="class_u_d3_d11_render_device.html#a34dd03783dba0a68f71efd618f5b785f">UD3D11RenderDevice::options</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>User configurable options </p>

</div>
</div>
<a class="anchor" id="a856c0490b73f444483b1f401dc8fc78d"></a><!-- doxytag: member="UD3D11RenderDevice::precache" ref="a856c0490b73f444483b1f401dc8fc78d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_u_d3_d11_render_device.html#a856c0490b73f444483b1f401dc8fc78d">UD3D11RenderDevice::precache</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Turn on precaching </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>D:/d3d11drv/d3d11drv/<a class="el" href="d3d11drv_8h_source.html">d3d11drv.h</a></li>
<li>D:/d3d11drv/d3d11drv/d3d11drv.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sat Oct 3 23:35:35 2009 for D3D11DRV by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
